<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>The Flash mod for Minecraft by Sergney Selka Company</title>
<link rel="icon" href="Photos/icon.ico" type="image/x-icon" />
<style>
/* Общие стили с чёрным фоном и подготовкой к анимации молний */
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #000; /* Чёрный фон */
    position: relative;
    overflow: hidden;
    color: #fff; /* белый текст для контраста */
}

/* Контейнер для молний */
#lightning-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1; /* за контентом */
}

/* Остальные стили остаются без изменений, только убираем старый фон и анимацию молний */
nav {
    display: flex;
    justify-content: center;
    background-color: rgba(255, 124, 34, 0.8);
    padding: 10px 0;
}

nav button {
    background-color: transparent;
    border: none;
    margin: 0 15px;
    font-size: 1.2em;
    cursor: pointer;
    padding: 8px 16px;
    border-radius: 4px;
    color:#fff;
    transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s;
}

nav button:hover {
    background-color:#ff6f00; 
    transform : translateY(-2px);
}

/* Контейнер для контента */
#content {
    flex:1;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:40px20px;
}

/* Анимация появления страниц */
.page {
    opacity:0;
    transform:translateY(30px);
    transition:.6s ease all;
}
.page.show {
    opacity:1;
    transform:none;
}

/* Заголовки и текст */
h1 {
    font-size:2em; 
    text-align:center; 
    margin-bottom:30px; 
}
h2 {
	margin-bottom :20px; 
	color:#fff8e1; 
}
.support-info {
	font-size :1.5em; 
	text-align:center; 
	max-width :600px; 
	margin:auto; 
	line-height :1.5em; 
	padding-top :20px; 
	padding-bottom :20px; 
	color:#fff8e1; 
}

/* Кнопка Download */
a.download-btn {
	display:inline-block;
	padding:20px 50px; 
	font-size:.9em; 
	color:#fff; 
	background-image:
	linear-gradient(135deg, #ff7e5f, #feb47b);
	border-radius:10px; 
	box-shadow:
		0 4px 15px rgba(255,124,34,0.3);
	transition:
		background-image .3s,
		transform .3s,
		box-shadow .3s,
		opacity .3s
}
a.download-btn:hover {
	background-image:
	linear-gradient(135deg, #ff6f00, #ff9800);
	transform : translateY(-4px) scale(1.05); 
	box-shadow : inset 0 -4px 8px rgba(255,124,34,0.4),0 6px 12px rgba(255,124,34,0.2); 
}
</style>
</head>
<body>
<!-- Канвас для молний -->
<canvas id="lightning-canvas"></canvas>

<!-- Навигация -->
<nav>
<button id="tab-home">Главная страница</button>
<button id="tab-support">Поддержать автора</button>
</nav>

<!-- Контент -->
<div id="content"></div>

<script>
// Инициализация канваса
const canvas = document.getElementById('lightning-canvas');
const ctx = canvas.getContext('2d');

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

// Массив для хранения молний
let lightningStrikes = [];

// Функция для генерации случайных линий-молний
function createLightning() {
  const rand = Math.random();
  let orientation;
  if (rand < 0.33) {
    orientation = 'vertical';
  } else if (rand < 0.66) {
    orientation = 'horizontal';
  } else {
    orientation = 'diagonal';
  }

  if (orientation === 'vertical') {
    // Вертикальная молния
    const startX = Math.random() * window.innerWidth * 0.8 + window.innerWidth * 0.1;
    const endX = startX + (Math.random() - 0.5) * 200;
    const startY = Math.random() * window.innerHeight * 0.2;
    const endY = startY + Math.random() * window.innerHeight * 0.5 + window.innerHeight * 0.2;

    const points = [{x: startX, y: startY}];
    const segmentsCount = Math.floor(Math.random() *3)+8;

    let currentX= startX;
    for(let i=1;i<=segmentsCount;i++) {
      currentX += (Math.random()-0.5)*70;
      const y= startY+ (i/segmentsCount)*(endY-startY)+(Math.random()-0.5)*80;
      points.push({x:currentX,y:y});
      if(i===segmentsCount){
        points.push({x:endX,y:endY});
      }
    }
    return {points};
  
  } else if (orientation === 'horizontal') {
    // Горизонтальная молния
    const startY= Math.random()*window.innerHeight*0.8+window.innerHeight*0.1;
    const endY= startY+(Math.random()-0.5)*200;

    const startX= Math.random()*window.innerWidth*0.2; // начинаем слева
    const endX= startX+Math.random()*window.innerWidth*0.6+window.innerWidth*0.2;

    const points= [{x:startX,y:startY}];
    const segmentsCount= Math.floor(Math.random()*3)+8;

    let currentY=startY;
    for(let i=1;i<=segmentsCount;i++){
      currentY+= (Math.random()-0.5)*70;
      const x= startX+ (i/segmentsCount)*(endX-startX)+ (Math.random()-0.5)*80;
      points.push({x:x,y:currentY});
      if(i===segmentsCount){
        points.push({x:endX,y:endY});
      }
    }
    return {points};

  } else {
    // Диагональная молния
    // Выбираем начальную точку в левом нижнем или верхнем углу, и идём по диагонали
    const fromTopOrBottom = Math.random() < 0.5; // выбираем сторону
    let startX, startY, endX, endY;

    if (fromTopOrBottom) {
      // начинаем сверху слева или справа
      startX = Math.random() < 0.5 ? 0 : window.innerWidth;
      startY = Math.random() * window.innerHeight * 0.2; // чуть ниже верха
      endX = Math.random() < 0.5 ? 0 : window.innerWidth;
      endY = window.innerHeight; // до низа
    } else {
      // начинаем снизу слева или справа
      startX = Math.random() < 0.5 ? 0 : window.innerWidth;
      startY = window.innerHeight - Math.random() * window.innerHeight * 0.2; // чуть выше низа
      endX = Math.random() < 0.5 ? 0 : window.innerWidth;
      endY = 0; // до верха
    }

    const points= [{x:startX,y:startY}];
    const segmentsCount= Math.floor(Math.random()*3)+8;

    for(let i=1;i<=segmentsCount;i++){
      const t= i/segmentsCount; // прогресс по линии
      let x= startX + t*(endX - startX);
      let y= startY + t*(endY - startY);
      
      // добавляем случайные отклонения для эффекта молнии
      x += (Math.random()-0.5)*80;
      y += (Math.random()-0.5)*80;

      points.push({x:x,y:y});
      
      if(i===segmentsCount){
        points.push({x:endX,y:endY});
      }
    }

    return {points};
  }


  // Создаем массив точек для ломанных линий
  const points = [{x:startX,y:startY}];
  
  let currentX = startX;

  // Увеличиваем количество сегментов для большего изгиба
  const segmentsCount = Math.floor(Math.random() *3) +8; // от6 до8 сегментов

   for(let i=1;i<=segmentsCount;i++) { // создаем ломанные сегменты
      currentX += (Math.random() -0.5)*70; // смещение по X
      const y = startY + (i/segmentsCount)*(endY - startY) + (Math.random()-0.5)*80; // по Y с шумом
      points.push({x:currentX,y:y});
      
      if(i===segmentsCount){
        points.push({x:endX,y:endY});
      }
   }
   
   return {points};
}

// Функция для рисования молнии
function drawLightning(strike) {
   ctx.strokeStyle='rgba(255,165,40,'+strike.opacity+')'; // оранжевый с прозрачностью
   ctx.shadowColor='orange';
   ctx.shadowBlur=100;

   ctx.lineWidth=3;

   ctx.beginPath();
   ctx.moveTo(strike.points[0].x,strike.points[0].y);
   for(let i=1;i<strike.points.length;i++) {
       ctx.lineTo(strike.points[i].x,strike.points[i].y);
   }
   ctx.stroke();
}

// Основной цикл анимации
function animate() {
   ctx.fillStyle='rgba(0,0,0,0.2)'; // немного затемняем фон для эффекта мерцания
   ctx.fillRect(0,0,canvas.width,canvas.height);

   // Увеличиваем вероятность появления новых молний для более частых вспышек
   if(Math.random()<0.30){ // увеличена вероятность с .05 до .15
       lightningStrikes.push({
           ...createLightning(),
           opacity:1,
           lifeTime:-1 // живет пока не исчезнет полностью
       });
   }

   // Обновляем и рисуем все молнии
   for(let i=lightningStrikes.length-1;i>=0;i--) {
       const strike=lightningStrikes[i];
       drawLightning(strike);

       // Уменьшаем прозрачность быстрее для более быстрого исчезновения
       strike.opacity -= Math.random()*0.03 + 0.02;

       if(strike.opacity<=0){
           lightningStrikes.splice(i,1);
       }
   }

   requestAnimationFrame(animate);
}

// Запуск анимации
animate();


// Остальной код страницы без изменений

const contentDiv = document.getElementById('content');

function loadPage(contentGenerator) {
	const oldPage = document.querySelector('.page');
	if (oldPage) {
		oldPage.classList.remove('show');
		setTimeout(() => {
			if (oldPage.parentNode) oldPage.remove();
			const newPage = contentGenerator();
			newPage.classList.add('show');
			contentDiv.appendChild(newPage);
		},600);
	} else {
		const newPage = contentGenerator();
		newPage.classList.add('show');
		contentDiv.appendChild(newPage);
	}
}

// Генератор главной страницы
function createHomePage() {
	const container = document.createElement('div');
	container.className='page';

	const title = document.createElement('h1');
	title.textContent='The Flash mod for Minecraft by Sergney Selka Company';

	const centerDiv=document.createElement('div');
	centerDiv.style.display='flex';
	centerDiv.style.flexDirection='column';
	centerDiv.style.alignItems='center';

	const mainText=document.createElement('div');
	mainText.textContent='The Flash Minecraft Mod';
	mainText.style.fontSize='2em';
	mainText.style.marginBottom='20px';

	const downloadLink=document.createElement('a');
	downloadLink.href='https://drive.google.com/file/d/1wqG09bnYIJXO2Ydu0OZoT8Apgd7yr5-O/view?usp=sharing'; // замените на свою ссылку
	downloadLink.className='download-btn';
	downloadLink.textContent='Download';

	centerDiv.appendChild(mainText);
	centerDiv.appendChild(downloadLink);

	container.appendChild(title);
	container.appendChild(centerDiv);

	return container;
}

// Генератор страницы поддержки
function createSupportPage() {
	const container=document.createElement('div');
	container.className='page';

	const supportDiv=document.createElement('div');
	supportDiv.className='support-info';

	const supportTitle = document.createElement('h2');
	supportTitle.textContent='Поддержка автора';

	const supportText = document.createElement('p');
	supportText.textContent='Номер карты для поддержки:'

;

	const ul = document.createElement('ul');
	ul.style.listStyle='none';
	
	const card1 = document.createElement('li');
	card1.textContent='СберБанк - 2202208134870642';

	const card2 = document.createElement('li');
	card2.textContent='ТБанк - 2200701028427703';

	
	supportDiv.appendChild(supportTitle);
	supportDiv.appendChild(supportText);
	supportDiv.appendChild(ul);
	
	for (const card of [card1, card2]) {
	    ul.appendChild(card);
	  }
	
	container.appendChild(supportDiv);

	return container;

}

document.getElementById('tab-home').addEventListener('click', () => {
	loadPage(createHomePage);
});

document.getElementById('tab-support').addEventListener('click', () => {
	loadPage(createSupportPage);
});

window.onload=()=>{ loadPage(createHomePage); };
</script>
</body>
</html>
